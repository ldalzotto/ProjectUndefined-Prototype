<div class="ui sizer vertical segment">
    <a name="FiringMechanic" class="ui huge header">Firing Mechanic</a>
    <div class="ui fitted divider"></div>
    <p></p>
    <p>
        Firing allow Player to use it's currently selected weapon to fire projectiles.
    </p>

    <div class="ui medium header">Interface</div>
    <p>
        By pressing the <input-key Key="Shift"></input-key> key, Player enter in firing mode.
        <br />
        While on firing mode, the direction is directed by the mouse and firing projectile is triggered by <input-key
            Key="LClick"></input-key>.
        <br />
        While on firing mode, if the <input-key Key="Shift"></input-key> key is released, firing mode is exited.
    </p>

    <div class="ui medium header">Availability</div>
    <p>
        The firing mechanic is available to Player when no PlayerAction is running.
    </p>

    <div class="ui medium header">Firing Mode</div>
    <p>
        When the Player enters in firing mode, a small TargetCursor appear at screen to indicate where the Player is
        shooting.
        <br />
        The spawn position of the TargetCursor is at the player position.
        <br />
        The Player model is also facing the direction where he is going to shoot.
        <br />
    </p>
    <img src="Pages\2.Game_Mechanics\2.1.Firing\Img\FiringModeIcon.png" class="ui tiny image">

    <div class="ui medium header">Recoil Time</div>
    <p>
        After firing a projectile, the player still stays in firing mode if <input-key Key="Shift"></input-key> is still
        pressed. However, during a recoil time, the player shoot another projectile. It is just after this time has
        passed that another projectile can be shot.
    </p>

    <div class="ui huge header">Use Cases</div>
    <div class="ui fitted divider"></div>
    <p></p>

    <div class="uml" data="
    @startuml
    participant Player
    participant FiringPlayerAction
    participant Cursor
    participant SpawnProjectileEvent
    participant FiringRecoilTimeManager
    
    alt Firing mode key pressed
        Player->FiringPlayerAction : Enter firing state
        FiringPlayerAction->Cursor: Create cursor
    end

    alt Mouse Move
        FiringPlayerAction->Cursor : Move Cursor
    end

    alt Shoot
        Player->FiringPlayerAction : Shoot
        FiringRecoilTimeManager --> FiringPlayerAction : Current recoil time
        alt RecoilTime elapsed
            FiringPlayerAction->SpawnProjectileEvent : Shoot
            SpawnProjectileEvent->FiringRecoilTimeManager : Reset recoil time
        else RecoilTime not elapsed
            FiringPlayerAction->FiringPlayerAction : Do nothing
        end
    end

    alt Firing mode key released
        FiringPlayerAction->Player : Exit
    end
    @enduml
    "></div>
</div>